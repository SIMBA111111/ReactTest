name: GitHub Actions Demo
run-name: ${{ github.actor }} is changed project ðŸš€
on: [push]
jobs:
  Clon-repo:
    runs-on: ubuntu-22.04
    steps: 
      - run: echo "Start cloning repo..."
      
      - name: Checkout code
        uses: actions/checkout@v2 
        
      - name: Install dependencies
        run: npm install
        
      - name: Build
        run: npm run build
        
      - run: echo "Successfully cloned repo"

      - name: Remove directory if it exists
        run: |
          if [ -d "../var/www/dist" ]; then
            echo "Removing ../var/www/dist directory..."
            rm -r ../var/www/dist
          else
            echo "../var/www/dist directory does not exist, skipping removal."
          fi
      
      - name: Copy build files
        run: cp -r dist ../var/www
